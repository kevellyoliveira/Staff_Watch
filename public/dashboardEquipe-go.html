<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href=".././css/dashboardHist.css">
    <script src=".././js/script.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


    <link rel="shortcut icon" href=".././src/img/logoB.png" type="image/x-icon" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <title>Dashboard | Staff Watch</title>
</head>

<body onload="alterarFuncionario('dashChamadas')">
    <header>
        <div class="opcoes">
            <div class="esq">
                <div class="logo">
                    <img href="index.html" src=".././src/img/logoB.png" alt="logo">
                </div>

                <div class="opcoesComponentes" id="itens">
                    <h6 class="opcoesMenu slct" onclick="window.location.href='dashboardGeral-go.html'">Home</h6>
                    <h6 class="opcoesMenu associMenu" onclick="abrirMenu()">Associados <img
                            src=".././src/img/icons/seta.png" alt="icone menu vertical"></h6>
                    <h6 class="opcoesMenu" onclick="window.location.href='cadastroFuncionario.html'">Cadastrar</h6>
                    <div id="menu">
                        <h4 onclick="window.location.href='pagina-operario2.html'">Funcionários</h4>
                        <h4 onclick="window.location.href='pagina-maquina.html'">Dispositivos</h4>
                        <h4 onclick="window.location.href='cadastroComponente.html'">Componentes</h4>

                    </div>
                </div>
            </div>

            <div class="sair">
                <h6 class="opcoesMenu sair" onclick="sair()"> Sair </h6>
            </div>
        </div>
    </header>
    <div class="corpo">
        <div class="menuLateral">
            <div class="itens">
                <h4 id="0" onclick="window.location.href='dashboardGeral-go.html'">Histórico</h4>
                <h4 id="1" class="slc" onclick="selecionarItem(this)">Equipe 1</h4>
                <h4 id="2" onclick="selecionarItem(this)">Equipe 2</h4>
                <h4 id="3" onclick="selecionarItem(this)">Equipe 3</h4>
                <h4 id="4" onclick="selecionarItem(this)">Equipe 4</h4>
                <h4 class="slc novaequipe" onclick="window.location.href='.././novaEquipe.html'">Nova equipe</h4>
            </div>
        </div>

        <!-- reutilizando da página de máquinas -->

        <main class="main-section">

            <div class="title">
                <h2>Funcionários da equipe</h2>
            </div>

            <section class="section-card">


                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-vermelho.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <div class="alertaMaquina">
                                <figure> <img src=".././src/img/icons/alerta2.png"> </figure>
                                <p> Tempo de ligação acima da média (16 min)</p>
                            </div>
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p><b>ID:</b> 1234</p>
                            <p> Pedro Almeida </p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>

                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')"">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-laranja.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <div class="alertaMaquina">
                                <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                                <p> Tempo de ligação acima da média (9 min)</p>
                            </div>
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Lara Fernandes</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>

                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-laranja.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <div class="alertaMaquina">
                                <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                                <p> Tempo de ligação acima da média (9 min)</p>
                            </div>
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Caio Oliveira</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>

                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-laranja.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <div class="alertaMaquina">
                                <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                                <p> Tempo de ligação acima da média (10 min)</p>
                            </div>
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Caio Oliveira</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>

                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-verde.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <!-- <div class="alertaMaquina">
                            <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                            <p> Tempo de ligação acima da média (9 min)</p>
                        </div> -->
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Lara Fernandes</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>


                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-verde.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <!-- <div class="alertaMaquina">
                            <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                            <p> Tempo de ligação acima da média (9 min)</p>
                        </div> -->
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Júlia Pereira</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>


                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-verde.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <!-- <div class="alertaMaquina">
                            <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                            <p> Tempo de ligação acima da média (9 min)</p>
                        </div> -->
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Rafael Martins</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>
                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-verde.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <!-- <div class="alertaMaquina">
                            <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                            <p> Tempo de ligação acima da média (9 min)</p>
                        </div> -->
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Júlia Pereira</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>
                <div class="card open-modal onclick=" alterarFuncionario('dashChamadas')">

                    <div class="down-card cima">
                        <div class="esqCard">
                            <figure class="iconFunc">
                                <img src=".././src/img/icons/funcionarios/func-verde.png" alt="">
                            </figure>
                        </div>

                        <div class="dirCard">
                            <!-- <div class="alertaMaquina">
                            <figure> <img src=".././src/img/icons/alerta1.png"> </figure>
                            <p> Tempo de ligação acima da média (9 min)</p>
                        </div> -->
                        </div>

                    </div>
                    <div class="down-card">
                        <div class="content-card">
                            <p id="idFuncionario"><b>ID:</b> 1234</p>
                            <p id="nomeFuncionario"> Júlia Pereira</p>
                        </div>
                        <div class="up-card">
                            <img src=".././src/img/icons/editar.svg" alt="">
                            <img src=".././src/img/icons/excluir.svg" alt="">
                        </div>
                    </div>
                </div>
            </section>


            <!-- MODAL -->
            <div id="fade" class="hide"></div>
            <div id="modal" class="hide">
                <div class="btnSair">
                    <img src=".././src/img/icons/fechar.svg" alt="ícone para sair do modal">
                </div>
                <div class="modal-content">
                    <div class="containerModal go">
                        <div class="opcoesComponentes menu go" id="itens">
                            <h6 class="opcoesMenu go" id="chamadas" onclick="alterarFuncionario('dashChamadas')">
                                Chamadas atendidas X recebidas </h6>
                            <h6 class="opcoesMenu go" id="atendimento" onclick="alterarFuncionario('dashAtendimento')">
                                Tempo médio de atendimento </h6>
                            <h6 class="opcoesMenu go" id="resolucao" onclick="alterarFuncionario('dashResolucao')"> Taxa
                                de resolução no Primeiro Contato </h6>
                            <h6 class="opcoesMenu go" id="abandono" onclick="alterarFuncionario('dashAbandono')"> Taxa
                                de Abandono </h6>
                        </div>

                        <div class="aside">
                            <div class="dadosComponente">
                                <div class="infosComponente">
                                    <!-- <h6 class="componente" id="idComponente"> CPU </h6> -->
                                    <!-- <h6 class="nomeComponente" id="idNomeComponente"> nome do componente </h6> -->
                                </div>

                                <h5 class="monitoramento" id="idMonitoramentoGrafico"> Utilização: </h5>
                            </div>

                            <div class="graficoComponente">
                                <div class="graficoChart">
                                    <canvas id="myChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="dashChamadas" class="bside go">

                            <div class="ladoDados">
                                <div class="dado go">
                                    <h3> Recebidos: </h3>
                                    <div class="dadoInfo go">
                                        <h2> <span id="chamadasRecebidas"> 30 </span> chamadas </h2>
                                    </div>
                                </div>
                                <div class="dado go">
                                    <h3> Atendidas: </h3>
                                    <div class="dadoInfo go">
                                        <h2 style="color: orange;"> <span id="chamadasAtendidas"> 25 </span> chamadas
                                        </h2>
                                    </div>
                                </div>
                            </div>

                            <div class="filtro">
                                <div class="tituloFiltro">
                                    <img src="../src/img/icons/seta.png" alt="">
                                    <h4 class="gotxt"> Filtrar</h4>
                                </div>
                                <h4 class="slctxt gotxt">Sempre</h4>
                                <h4 class="gotxt">No dia</h4>
                                <h4 class="gotxt">Na semana</h4>
                                <h4 class="gotxt">No mês</h4>
                            </div>

                        </div>

                        <div id="dashAtendimento" class="bside go">
                            <div class="ladoDados">
                                <div class="dado go">
                                    <h3> Recebidos: </h3>
                                    <div class="dadoInfo go">
                                        <h2> <span id="chamadasRecebidas"> 30 </span> chamadas </h2>
                                    </div>
                                </div>

                                <div class="dado go">
                                    <h3> Atendidas: </h3>
                                    <div class="dadoInfo go">
                                        <h2 style="color: orange;"> <span id="chamadasAtendidas"> 25 </span> chamadas
                                        </h2>
                                    </div>
                                </div>
                            </div>

                            <div class="filtro">
                                <div class="tituloFiltro">
                                    <img src="../src/img/icons/seta.png">
                                    <h4 class="gotxt"> Filtrar</h4>
                                </div>
                                <h4 class="slctxt gotxt">Sempre</h4>
                                <h4 class="gotxt"> No dia</h4>
                                <h4 class="gotxt"> Na semana</h4>
                                <h4 class="gotxt"> No mês</h4>
                            </div>
                        </div>

                        <div id="dashResolucao" class="bside go">
                            <div class="ladoDados">
                                <div class="dado go">
                                    <h3> Recebidos: </h3>
                                    <div class="dadoInfo go">
                                        <h2> <span id="chamadasRecebidas"> 30 </span> chamadas </h2>
                                    </div>
                                </div>
                                <div class="dado go">
                                    <h3> Atendidas: </h3>
                                    <div class="dadoInfo go">
                                        <h2 style="color: orange;"> <span id="chamadasAtendidas"> 25 </span>
                                            chamadas </h2>
                                    </div>
                                </div>
                            </div>

                            <div class="filtro">
                                <div class="tituloFiltro">
                                    <img src="../src/img/icons/seta.png">
                                    <h4 class="gotxt"> Filtrar</h4>

                                </div>
                                <h4 class="slctxt gotxt">Sempre</h4>
                                <h4 class="gotxt">No dia</h4>
                                <h4 class="gotxt">Na semana</h4>
                                <h4 class="gotxt">No mês</h4>
                            </div>
                        </div>

                    <div id="dashAbandono" class="bside go">
                        <div class="ladoDados">
                            <div class="dado go">
                                <h3> Recebidos: </h3>
                                <div class="dadoInfo go">
                                    <h2> <span id="chamadasRecebidas"> 30 </span> chamadas </h2>
                                </div>
                            </div>
                            <div class="dado go">
                                <h3> Atendidas: </h3>
                                <div class="dadoInfo go">
                                    <h2 style="color: orange;"> <span id="chamadasAtendidas"> 25 </span>
                                        chamadas </h2>
                                </div>
                            </div>
                        </div>

                        <div class="filtro">
                            <div class="tituloFiltro">
                                <img src="../src/img/icons/seta.png">
                                <h4 class="gotxt"> Filtrar</h4>
                            </div>
                            <h4 class="slctxt gotxt">Sempre</h4>
                            <h4 class="gotxt">No dia</h4>
                            <h4 class="gotxt">Na semana</h4>
                            <h4 class="gotxt">No mês</h4>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>

</html>
<script>

    function selecionarItem(elemento) {
        var id = elemento.id;  // Pega o ID da equipe clicada
        if (id == 0) {
            // Redireciona para dashboardGeral.html
            window.location.href = "dashboardGeral-go.html";
        } else {
            // Armazena o ID correto da equipe no sessionStorage
            sessionStorage.setItem('equipeSelecionada', id);
            // Redireciona para a página da equipe
            window.location.href = 'dashboardEquipe-go.html';
        }
    }

    function abrirMenu() {
        if (document.getElementById("menu").style.display == "flex") {
            document.getElementById("menu").style.display = "none";
        } else {
            document.getElementById("menu").style.display = "flex"
        }
    }

    function sair() {
        sessionStorage.clear()
        window.location = "index.html"
    }

    // função para alterar a equipe selecionada no menu lateral
    window.onload = function () {
        var equipeSelecionada = sessionStorage.getItem('equipeSelecionada');  // Recupera o ID da equipe

        if (equipeSelecionada) {
            var item = document.getElementById(equipeSelecionada);  // Seleciona o item da equipe

            if (item) {
                // Remove a classe 'slc' de todos os itens e aplica ao selecionado
                var itens = document.querySelectorAll('.menuLateral .itens h4');
                itens.forEach(function (el) {
                    el.classList.remove('slc');
                });

                // Adiciona a classe 'slc' ao item selecionado
                item.classList.add('slc');
            }
        }
    };

    // função para carregar a dashboard da equipe com o ID especificado
    function carregarDashboard(id) {
        console.log("Carregando dashboard da equipe com ID:", id);
        // Exemplo: alterarFuncionario(id);
    }

    function selecionarItem(elemento) {
        // Salvar o id do item selecionado no localStorage
        localStorage.setItem('equipeSelecionada', elemento.id);

        // Remover a classe 'slc' de todos os h4
        var itens = document.querySelectorAll('.menuLateral .itens h4');
        itens.forEach(function (item) {
            item.classList.remove('slc');
        });

        // Adicionar a classe 'slc' ao item clicado
        elemento.classList.add('slc');

    }
    // lembrar de chamar essa funcao pra exibir os graficos dinamicos
    //         alterarFuncionario("dashChamadas");
    //          Chama a função que recarrega a dashboard para a equipe selecionada
    // carregarDashboard(elemento.id);


    // função para sair da conta logada
    function sair() {
        sessionStorage.clear()
        window.location = "index.html"
    }


    // ==========================================================================================================================================================

    document.getElementById('fade').addEventListener('click', function () {
        document.getElementById('fade').classList.add('hide');
        document.getElementById('modal').classList.add('hide');
    });

    document.querySelector('.btnSair').addEventListener('click', function () {
        document.getElementById('fade').classList.add('hide');
        document.getElementById('modal').classList.add('hide');
    });

    //GRÁFICO MODAL  =================================================================================

    // Função para gerar um novo valor aleatório para simular os dados do gráfico
    // let dadoPublic = 0
    // function getRandomValue() {
    //     let dado = (Math.floor(Math.random() * 100)); // Gera um valor aleatório entre 0 e 100
    //     dadoPublic = dado
    //     return dado
    // }

    // Função para obter o horário atual como label
    // function getCurrentTimeLabel() {
    //     const now = new Date();
    //     return now.toLocaleTimeString(); // Retorna o horário no formato HH:MM:SS
    // }

    // // Função para atualizar o gráfico a cada 1 segundo
    // setInterval(function () {
    //     // Remove o primeiro valor e label se houver mais de 6 pontos (para manter a janela de dados constante)
    //     if (myChart.data.labels.length > 8) {
    //         myChart.data.labels.shift(); // Remove o primeiro label
    //         myChart.data.datasets[0].data.shift(); // Remove o primeiro dado
    //     }
    //     // adiciona um novo valor
    //     myChart.data.labels.push(getCurrentTimeLabel());
    //     myChart.data.datasets[0].data.push(getRandomValue());

    //     // Atualiza o gráfico
    //     myChart.update();

    //     // enviando alerta para o slack caso o dado seja alerta (teste, não vai ser usado assim depois)

    //     if (dadoPublic > 90) {

    //         // const axios = require('axios/dist/node/axios.cjs');
    //         // var qs = requer('qs');

    //         var mensagemAlerta = "A máquina 1 está com o uso da CPU alto!"

    //         var dados = new URLSearchParams();
    //         dados.append('payload', `{"channel": "#alertas", "username": "incoming-webhook", "text": "${mensagemAlerta}", "icon_emoji": ":ghost:"}`);

    //         var configuração = {
    //             method: 'post',
    //             url: 'https://hooks.slack.com/services/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',
    //             headers: {
    //                 'Content-Type': 'application/x-www-form-urlencoded'
    //             },
    //             data: dados
    //         };

    //         axios(configuração)
    //             .then(function (response) {
    //                 console.log("Notificação enviada com sucesso:", response.data);
    //             })
    //             .catch(function (error) {
    //                 console.error("Erro ao enviar notificação:", error.response ? error.response.data : error.message);
    //             });
    //     }
    // }, 2000);

    const ctx = document.getElementById('myChart').getContext('2d');

// Função para gerar valores aleatórios para as chamadas recebidas e atendidas
function getMonthlyData() {
    const chamadasRecebidas = [];
    const chamadasAtendidas = [];

    for (let i = 0; i < 10; i++) {
        const recebidas = Math.floor(Math.random() * (200 - 80 + 1)) + 80;
        const atendidas = Math.floor(Math.random() * (recebidas - 80)) + 80;
        
        chamadasRecebidas.push(recebidas);
        chamadasAtendidas.push(atendidas);
    }
    return { chamadasRecebidas, chamadasAtendidas };
}

// Dados simulados para os últimos 10 meses
const { chamadasRecebidas, chamadasAtendidas } = getMonthlyData();
const meses = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out'];

// Cria uma instância do gráfico com duas linhas
const myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: meses,
        datasets: [
            {
                label: 'Chamadas Recebidas',
                data: chamadasRecebidas,
                borderColor: "#007bff",
                backgroundColor: "#007bff",
                borderWidth: 2,
                fill: false
            },
            {
                label: 'Chamadas Atendidas',
                data: chamadasAtendidas,
                borderColor: "#28a745",
                backgroundColor: "#28a745",
                borderWidth: 2,
                fill: false
            }
        ]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true,
                suggestedMax: 220
            }
        },
        responsive: true,
        plugins: {
            legend: {
                position: 'top'
            }
        }
    }
});

    // FIM DO GRÁFICO ==================================================================================



    // =============== FUNÇÕES DE GRÁFICOS ========================================================================================


    // essa função serve pra mudar as métricas na tela de acordo com o componente selecionado no header
    // quando o item for selecionado, a div correspondente aparece e as outras são escondidas.
    // Função para alterar o componente visualizado de acordo com o item selecionado
    function alterarFuncionario(componenteId) {
        const dashFuncionario = ["dashChamadas", "dashAtendimento", "dashResolucao", "dashAbandono"];
        const componentes = {
            "dashChamadas": "Chamadas",
            "dashAtendimento": "Atendimento",
            "dashResolucao": "Resolucao",
            "dashAbandono": "Memória"
        };

        // Esconde todas as divs dos componentes
        dashFuncionario.forEach(id => {
            document.getElementById(id).style.display = "none";
        });

        // Mostra o componente selecionado através do id e define o peso da fonte para o item do menu
        document.getElementById(componenteId).style.display = "flex";
        dashFuncionario.forEach(id => {
            const elemento = document.getElementById(id.replace("dash", "").toLowerCase());
            if (elemento) {
                elemento.style.color = (id === componenteId) ? "#6096ba" : "#000";
            }
        });

        // Mostra a informação do componente selecionado no aside
        document.getElementById("idComponente").innerHTML = componentes[componenteId];
    }

    //============================================ gráfico estático  para simulação ==================================================================

    function gerarValoresAleatorios(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    }

    // Dados iniciais para os gráficos
    const semanas = ['últimos 20 dias', 'últimos 10 dias', 'últimos 5 dias'];

    // Função para atualizar dados dos gráficos
    function atualizarDados(chart) {
        chart.data.datasets.forEach((dataset) => {
            dataset.data = [gerarValoresAleatorios(20, 80), gerarValoresAleatorios(20, 80), gerarValoresAleatorios(20, 80)];
        });
        chart.update();
    }

    // Configuração do gráfico CPU
    const chamadasChart = new Chart(document.getElementById('chamadasChart'), {
        type: 'bar',
        data: {
            labels: semanas,
            datasets: [{
                label: 'Média de Uso da CPU (%)',
                data: [gerarValoresAleatorios(20, 80), gerarValoresAleatorios(20, 80), gerarValoresAleatorios(20, 80)],
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        }
    });

    // Configuração do gráfico RAM
    const atendimentoChart = new Chart(document.getElementById('atendimentoChart'), {
        type: 'bar',
        data: {
            labels: semanas,
            datasets: [{
                label: 'Média de Uso da RAM (%)',
                data: [gerarValoresAleatorios(30, 90), gerarValoresAleatorios(30, 90), gerarValoresAleatorios(30, 90)],
                backgroundColor: 'rgba(153, 102, 255, 0.6)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        }
    });

    // Configuração do gráfico Resolucao
    const resolucaoChart = new Chart(document.getElementById('resolucaoChart'), {
        type: 'bar',
        data: {
            labels: semanas,
            datasets: [{
                label: 'Média de Uso da Resolucao (Mbps)',
                data: [gerarValoresAleatorios(100, 1000), gerarValoresAleatorios(100, 1000), gerarValoresAleatorios(100, 1000)],
                backgroundColor: 'rgba(255, 206, 86, 0.6)',
                borderColor: 'rgba(255, 206, 86, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Configuração do gráfico Armazenamento
    const abandonoChart = new Chart(document.getElementById('abandonoChart'), {
        type: 'bar',
        data: {
            labels: semanas,
            datasets: [{
                label: 'Média de Uso de Armazenamento (%)',
                data: [gerarValoresAleatorios(40, 95), gerarValoresAleatorios(40, 95), gerarValoresAleatorios(40, 95)],
                backgroundColor: 'rgba(255, 99, 132, 0.6)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        }
    });

    // Atualização automática dos gráficos a cada 10 segundos
    setInterval(() => {
        atualizarDados(chamadasChart);
        atualizarDados(atendimentoChart);
        atualizarDados(resolucaoChart);
        atualizarDados(abandonoChart);
    }, 10000);

</script>